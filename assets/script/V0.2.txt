CREATE TABLE Acudiente
  (
    Cedula              VARCHAR (20) NOT NULL ,
    Nombre              VARCHAR (20) NOT NULL ,
    Direccion           VARCHAR (20) NOT NULL ,
    Telefono            VARCHAR (7) NOT NULL ,
    Celular             VARCHAR (10) NOT NULL ,
    Parentesco          VARCHAR (20) ,
    Residente_Cedula    VARCHAR (20) NOT NULL ,
    Residente_Direccion VARCHAR (20) NOT NULL
  ) ;
ALTER TABLE Acudiente ADD CONSTRAINT Acudiente_PK PRIMARY KEY ( Cedula, Residente_Cedula ) ;


CREATE TABLE Aditamentos
  (
    ID                      INTEGER NOT NULL,
    Tipo                    VARCHAR (100) ,
    Observaciones           VARCHAR (300) ,
    E21_ID                  INTEGER NOT NULL ,
    E21_Usuario_ID_usuario  VARCHAR (15) NOT NULL ,
    E21_Historia_Clinica_ID INTEGER NOT NULL
  ) ;
ALTER TABLE Aditamentos ADD CONSTRAINT Aditamentos_PK PRIMARY KEY ( ID, E21_ID, E21_Usuario_ID_usuario, E21_Historia_Clinica_ID ) ;


CREATE TABLE E07
  (
    ID                  INTEGER NOT NULL ,
    Medicamento         VARCHAR (100) ,
    HoraDosis           DATETIME ,
    Usuario_ID_usuario  VARCHAR (15) NOT NULL ,
    horaingresoForm     DATETIME,
    Historia_Clinica_ID INTEGER NOT NULL
  ) ;
ALTER TABLE E07 ADD CONSTRAINT E07_PK PRIMARY KEY ( ID, Usuario_ID_usuario, Historia_Clinica_ID ) ;


CREATE TABLE E08
  (
    ID                   INTEGER NOT NULL ,
    Fecha                DATETIME ,
    TensionArterial      VARCHAR (15) ,
    FrecuenciaCardiaca   INTEGER ,
    FrecuenciaRespitaria INTEGER ,
    Saturacion DOUBLE ,
    Temperatura DOUBLE ,
    Peso DOUBLE ,
    Glucometria         INTEGER ,
    horaingresoForm     DATETIME,
    Historia_Clinica_ID INTEGER NOT NULL ,
    Usuario_ID_usuario  VARCHAR (15) NOT NULL
  ) ;
ALTER TABLE E08 ADD CONSTRAINT E08_PK PRIMARY KEY ( ID, Historia_Clinica_ID, Usuario_ID_usuario ) ;


CREATE TABLE E14
  (
    ID                  INTEGER NOT NULL,
    HoraRegistro        DATETIME ,
    Actividad           VARCHAR (20) ,
    Observaciones       VARCHAR (300) ,
    horaingresoForm     DATETIME,
    Usuario_ID_usuario  VARCHAR (15) NOT NULL ,
    Historia_Clinica_ID INTEGER NOT NULL
  ) ;
ALTER TABLE E14 ADD CONSTRAINT E14_PK PRIMARY KEY ( ID, Usuario_ID_usuario, Historia_Clinica_ID ) ;


CREATE TABLE E21
  (
    ID                  INTEGER NOT NULL,
    FechaRegistro       DATETIME ,
    Antecedentes        VARCHAR (300) ,
    Medicamentos        VARCHAR (300) ,
    horaingresoForm     DATETIME,
    Usuario_ID_usuario  VARCHAR (15) NOT NULL ,
    Historia_Clinica_ID INTEGER NOT NULL
  ) ;
ALTER TABLE E21 ADD CONSTRAINT E21_PK PRIMARY KEY ( ID, Usuario_ID_usuario, Historia_Clinica_ID ) ;


CREATE TABLE E35
  (
    ID              INTEGER,
    UnidadOperativa VARCHAR (20) ,
    FechaRegistro   DATETIME ,
    Talla DOUBLE ,
    Carpo DOUBLE ,
    pesoConv DOUBLE ,
    AlturaRodilla DOUBLE ,
    CirBrazo DOUBLE ,
    EstadoNutricion     VARCHAR (200) ,
    horaingresoForm     DATETIME,
    Usuario_ID_usuario  VARCHAR (15) NOT NULL ,
    Historia_Clinica_ID INTEGER NOT NULL
  ) ;
ALTER TABLE E35 ADD CONSTRAINT E35_PK PRIMARY KEY ( Usuario_ID_usuario, Historia_Clinica_ID ) ;


CREATE TABLE Historia_Clinica
  (
    Peso DOUBLE NOT NULL ,
    Talla DOUBLE ,
    TensionArterial DOUBLE ,
    FrecuenciaRespiratoria DOUBLE ,
    FrecuenciaCardiaca DOUBLE ,
    Temperatura DOUBLE ,
    SaturacionO2 DOUBLE ,
    InformacionCabeza         VARCHAR (200) ,
    InformacionCara           VARCHAR (200) ,
    InformacionCuello         VARCHAR (200) ,
    InformacionTorax          VARCHAR (200) ,
    InformacionAbdomen        VARCHAR (200) ,
    InformacionGenitourinario VARCHAR (200) ,
    InformacionOsteoarticular VARCHAR (200) ,
    Residente_Direccion       VARCHAR (30) NOT NULL ,
    Residente_Cedula          VARCHAR (30) NOT NULL ,
    ID                        INTEGER NOT NULL
  ) ;
ALTER TABLE Historia_Clinica ADD CONSTRAINT Historia_Clinica_PK PRIMARY KEY ( ID ) ;


CREATE TABLE Ingresos
  (
    HoraIngreso        DATETIME ,
    idIngreso          INTEGER NOT NULL,
    Usuario_ID_usuario VARCHAR (15) NOT NULL
  ) ;
ALTER TABLE Ingresos ADD CONSTRAINT Ingresos_PK PRIMARY KEY ( idIngreso, Usuario_ID_usuario ) ;


CREATE TABLE Objetos_Personales
  (
    ID                  INTEGER NOT NULL,
    nombreElemento      VARCHAR (20) NOT NULL ,
    Descripcion         VARCHAR (20) ,
    Estado              VARCHAR (7) ,
    Residente_Cedula    VARCHAR (20) NOT NULL ,
    Residente_Direccion VARCHAR (20) NOT NULL
  ) ;
ALTER TABLE Objetos_Personales ADD CONSTRAINT Objetos_Personales_PK PRIMARY KEY ( ID, Residente_Cedula ) ;


CREATE TABLE Permisos
  (
    NombrePermiso VARCHAR (20) NOT NULL ,
    Lectura       CHAR (1) ,
    Escritura     CHAR (1) ,
    Rol_Rol_ID    DOUBLE NOT NULL
  ) ;


CREATE TABLE Profesion
  (
    Usuario_ID_usuario VARCHAR (15) NOT NULL ,
    Titulo             VARCHAR (20) NOT NULL ,
    Id_Profesional     VARCHAR (20) NOT NULL
  ) ;


CREATE TABLE Residente
  (
    Cedula            VARCHAR (20) NOT NULL ,
    Nombre            VARCHAR (20) NOT NULL ,
    Direccion         VARCHAR (20) ,
    EPS               VARCHAR (10) NOT NULL ,
    IDEPS             VARCHAR (20) NOT NULL ,
    Prepagada         VARCHAR (20) ,
    IDPrepagada       VARCHAR (20) ,
    FechaIngreso      DATETIME ,
    FechaNacimiento   DATETIME ,
    Edad              INTEGER ,
    LugarNacimiento   VARCHAR (20) ,
    OcupacionAnterior VARCHAR (20) ,
    Escolaridad       VARCHAR (20) ,
    Pensionado        CHAR (1) ,
    ValorPension DOUBLE ,
    EstadoCivil VARCHAR (10) ,
    NumeroHijos INTEGER ,
    Foto LONGBLOB
  ) ;
ALTER TABLE Residente ADD CONSTRAINT Residente_PK PRIMARY KEY ( Cedula ) ;


CREATE TABLE Rol
  (
    nombreRol VARCHAR (20) ,
    Rol_ID DOUBLE NOT NULL
  ) ;
ALTER TABLE Rol ADD CONSTRAINT Rol_PKv1 PRIMARY KEY ( Rol_ID ) ;


CREATE TABLE Usuario
  (
    ID_usuario VARCHAR (15) NOT NULL ,
    pass       VARCHAR (60) NOT NULL ,
    nombre     VARCHAR (50) NOT NULL ,
    Celular    VARCHAR (20) NOT NULL ,
    Direccion  VARCHAR (50) NOT NULL ,
    email      VARCHAR (50) NOT NULL ,
    Rol_Rol_ID DOUBLE NOT NULL,
    estado     VARCHAR (10) NOT NULL
  ) ;
ALTER TABLE Usuario ADD CONSTRAINT Usuario_PK PRIMARY KEY ( ID_usuario ) ;


ALTER TABLE Acudiente ADD CONSTRAINT Acudiente_Residente_FK FOREIGN KEY ( Residente_Cedula ) REFERENCES Residente ( Cedula ) ;

ALTER TABLE Aditamentos ADD CONSTRAINT Aditamentos_E21_FK FOREIGN KEY ( E21_ID, E21_Usuario_ID_usuario, E21_Historia_Clinica_ID ) REFERENCES E21 ( ID, Usuario_ID_usuario, Historia_Clinica_ID ) ;

ALTER TABLE E07 ADD CONSTRAINT E07_Historia_Clinica_FK FOREIGN KEY ( Historia_Clinica_ID ) REFERENCES Historia_Clinica ( ID ) ;

ALTER TABLE E07 ADD CONSTRAINT E07_Usuario_FK FOREIGN KEY ( Usuario_ID_usuario ) REFERENCES Usuario ( ID_usuario ) ;

ALTER TABLE E08 ADD CONSTRAINT E08_Historia_Clinica_FK FOREIGN KEY ( Historia_Clinica_ID ) REFERENCES Historia_Clinica ( ID ) ;

ALTER TABLE E08 ADD CONSTRAINT E08_Usuario_FK FOREIGN KEY ( Usuario_ID_usuario ) REFERENCES Usuario ( ID_usuario ) ;

ALTER TABLE E14 ADD CONSTRAINT E14_Historia_Clinica_FK FOREIGN KEY ( Historia_Clinica_ID ) REFERENCES Historia_Clinica ( ID ) ;

ALTER TABLE E14 ADD CONSTRAINT E14_Usuario_FK FOREIGN KEY ( Usuario_ID_usuario ) REFERENCES Usuario ( ID_usuario ) ;

ALTER TABLE E21 ADD CONSTRAINT E21_Historia_Clinica_FK FOREIGN KEY ( Historia_Clinica_ID ) REFERENCES Historia_Clinica ( ID ) ;

ALTER TABLE E21 ADD CONSTRAINT E21_Usuario_FK FOREIGN KEY ( Usuario_ID_usuario ) REFERENCES Usuario ( ID_usuario ) ;

ALTER TABLE E35 ADD CONSTRAINT E35_Historia_Clinica_FK FOREIGN KEY ( Historia_Clinica_ID ) REFERENCES Historia_Clinica ( ID ) ;

ALTER TABLE E35 ADD CONSTRAINT E35_Usuario_FK FOREIGN KEY ( Usuario_ID_usuario ) REFERENCES Usuario ( ID_usuario ) ;

ALTER TABLE Historia_Clinica ADD CONSTRAINT Historia_Clinica_Residente_FK FOREIGN KEY ( Residente_Cedula ) REFERENCES Residente ( Cedula ) ;

ALTER TABLE Objetos_Personales ADD CONSTRAINT IdResidente FOREIGN KEY ( Residente_Cedula ) REFERENCES Residente ( Cedula ) ;

ALTER TABLE Ingresos ADD CONSTRAINT Ingresos_Usuario_FK FOREIGN KEY ( Usuario_ID_usuario ) REFERENCES Usuario ( ID_usuario ) ;

ALTER TABLE Permisos ADD CONSTRAINT Permisos_Rol_FK FOREIGN KEY ( Rol_Rol_ID ) REFERENCES Rol ( Rol_ID ) ;

ALTER TABLE Profesion ADD CONSTRAINT Profesion_Usuario_FK FOREIGN KEY ( Usuario_ID_usuario ) REFERENCES Usuario ( ID_usuario ) ;

ALTER TABLE Usuario ADD CONSTRAINT Usuario_Rol_FK FOREIGN KEY ( Rol_Rol_ID ) REFERENCES Rol ( Rol_ID ) ;
